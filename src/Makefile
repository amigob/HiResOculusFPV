#------------------------------------------------------------------------------#
# This makefile was generated by 'cbp2make' tool rev.80                        #
#------------------------------------------------------------------------------#

WRKDIR = `pwd`

 
CC = gcc
CPP = g++
F77 = f77
F9X = gfortran
LD = g++
AR = ar
RANLIB = ranlib
WINDRES = windres

INC = 
CFLAGS = -Wall -O2
RESINC = 
RCFLAGS = 
LIBDIR = 
LIB = -L. -lglut -lGLU -lGL -lm -lv4l2 -lsettings -lVideo 
LDFLAGS = -Wl,-rpath,.

INC_RELEASE = $(INC)
CFLAGS_RELEASE = $(CFLAGS)
RESINC_RELEASE = $(RESINC)
RCFLAGS_RELEASE = $(RCFLAGS)
LIBDIR_RELEASE = $(LIBDIR)
LIB_RELEASE = $(LIB)
LDFLAGS_RELEASE = $(LDFLAGS) -s
OBJDIR_RELEASE = objs
DEP_RELEASE = 
OUT_RELEASE = ../bin/OculusFPV
COPY_RELEASE = ../bin/FPV_VR.cnf ../bin/license.cnf ../bin/signature ../bin/libconfig++.so.9  ../bin/libsettings.so ../bin/libVideo.so 
PRE_COPY = FPV_VR.cnf license.cnf signature libconfig++.so.9 libsettings.so settings_i.h license_i.h  libVideo.so VideoCopy_i.h

OBJ_RELEASE = $(OBJDIR_RELEASE)/main.o $(OBJDIR_RELEASE)/glInfo.o $(OBJDIR_RELEASE)/Timer.o $(OBJDIR_RELEASE)/distortion.o $(OBJDIR_RELEASE)/drawMenu.o

all: release

clean: clean_release

release: $(OUT_RELEASE) $(COPY_RELEASE)

get_settings: rm_settings pre_copy
pre_copy: $(PRE_COPY)

$(OUT_RELEASE): $(OBJ_RELEASE) $(DEP_RELEASE)
	test -d ../bin || mkdir -p ../bin
	$(LD) $(LDFLAGS_RELEASE) $(LIBDIR_RELEASE) -o $(OUT_RELEASE) $(OBJ_RELEASE) $(LIB_RELEASE)

$(OBJDIR_RELEASE)/glInfo.o: glInfo.cpp
	test -d $(OBJDIR_RELEASE) || mkdir -p $(OBJDIR_RELEASE)
	$(CPP) $(CFLAGS_RELEASE) $(INC_RELEASE) -c -o $(OBJDIR_RELEASE)/glInfo.o glInfo.cpp

$(OBJDIR_RELEASE)/main.o: main.cpp
	test -d $(OBJDIR_RELEASE) || mkdir -p $(OBJDIR_RELEASE)
	$(CPP) $(CFLAGS_RELEASE) $(INC_RELEASE) -c -o $(OBJDIR_RELEASE)/main.o main.cpp

$(OBJDIR_RELEASE)/Timer.o: Timer.cpp
	test -d $(OBJDIR_RELEASE) || mkdir -p $(OBJDIR_RELEASE)
	$(CPP) $(CFLAGS_RELEASE) $(INC_RELEASE) -c -o $(OBJDIR_RELEASE)/Timer.o Timer.cpp

$(OBJDIR_RELEASE)/distortion.o: distortion.cpp
	test -d $(OBJDIR_RELEASE) || mkdir -p $(OBJDIR_RELEASE)
	$(CPP) $(CFLAGS_RELEASE) $(INC_RELEASE) -c -o $(OBJDIR_RELEASE)/distortion.o distortion.cpp

$(OBJDIR_RELEASE)/drawMenu.o: drawMenu.cpp
	test -d $(OBJDIR_RELEASE) || mkdir -p $(OBJDIR_RELEASE)
	$(CPP) $(CFLAGS_RELEASE) $(INC_RELEASE) -c -o $(OBJDIR_RELEASE)/drawMenu.o drawMenu.cpp

clean_release:
	rm -f $(OBJ_RELEASE) $(OUT_RELEASE) $(COPY_RELEASE)

.PHONY: clean clean_release 


#pre copy files
rm_settings:
	rm -f $(PRE_COPY)
        
FPV_VR.cnf: 
	cp -f ../../../Settings/bin/FPV_VR.cnf .
license.cnf: 
	cp -f ../../../Settings/bin/license.cnf .
signature: 
	cp -f ../../../Settings/bin/signature .
libconfig++.so.9: 
	cp -f ../../../Settings/bin/libconfig++.so.9 .
libsettings.so: 
	cp -f ../../../Settings/bin/libsettings.so .
settings_i.h: 
	cp -f ../../../Settings/bin/settings_i.h .
license_i.h: 
	cp -f ../../../Settings/bin/license_i.h .                
libVideo.so: 
	cp -f ../../../Video/bin/libVideo.so .


#copy files
../bin/FPV_VR.cnf: 
	cp -f FPV_VR.cnf ../bin
../bin/license.cnf: 
	cp -f license.cnf ../bin
../bin/signature: 
	cp -f signature ../bin                
../bin/libconfig++.so.9: 
	cp -f libconfig++.so.9 ../bin
../bin/libsettings.so: 
	cp -f libsettings.so ../bin
../bin/libVideo.so: 
	cp -f libVideo.so ../bin
